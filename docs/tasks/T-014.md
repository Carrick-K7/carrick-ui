# T-014: carrick-ui 技术栈迁移 - Tailwind CSS + Lucide

## 目标
将 carrick-ui 从 Naive UI + 纯 CSS 迁移到 **Tailwind CSS + Lucide Icons**

## 新规范
```
✅ 样式: Tailwind CSS (原子类)
✅ 图标: Lucide Icons (优先)
❌ 移除: Naive UI 依赖
```

## 参考资源

### shadcn-vue (主要参考)
URL: https://www.shadcn-vue.com/

**使用方式：**
1. 浏览 shadcn-vue 组件库，找到对应功能的组件
2. 复制组件源码到 carrick-ui/src/components/
3. 修改为 iOS 初音风格（颜色、圆角、阴影）
4. 替换图标为 Lucide

**参考组件：**
- Button → CButton
- Card → CCard
- Dialog → CModal
- Tabs → CTabs
- Avatar → CAvatar
- Switch → CSwitch
- Badge → CBadge

### Lucide Icons
URL: https://lucide.dev/icons/

**使用方式：**
```vue
import { IconName } from 'lucide-vue-next'
```

---

## 迁移范围

### 1. 依赖更新
**package.json**
- 移除: `naive-ui`
- 添加: `tailwindcss`, `postcss`, `autoprefixer`
- 添加: `lucide-vue-next` (Vue 专用 Lucide)

### 2. 配置文件
- `tailwind.config.js` - Tailwind 配置
- `postcss.config.js` - PostCSS 配置  
- `vite.config.js` - Vite 配置更新

### 3. 组件迁移（逐个重构）

| 组件 | 当前 | 新实现 |
|:---|:---|:---|
| TopNavbar | Naive UI + CSS | Tailwind |
| ImmersiveNav | Naive UI + CSS | Tailwind |
| CLogo | 纯 CSS | Tailwind |
| CButton | Naive UI | Tailwind |
| CCard | Naive UI | Tailwind |
| CModal | Naive UI | Tailwind |
| CBadge | 纯 CSS | Tailwind |
| CStatusDot | 纯 CSS | Tailwind |
| CProgress | 纯 CSS | Tailwind |
| CSwitch | 纯 CSS | Tailwind |
| CEmpty | 纯 CSS | Tailwind |
| CLoading | 纯 CSS | Tailwind |
| CAvatar | 纯 CSS | Tailwind |
| CTabs | 纯 CSS | Tailwind |
| BottomTab | 纯 CSS | Tailwind |

### 4. 图标替换
- 所有内部 SVG → Lucide 图标
- 统一导入方式: `import { IconName } from 'lucide-vue-next'`

### 5. 样式变量
保留 CSS 变量文件，但主要使用 Tailwind 类：
- `vars.css` - 颜色变量（用于自定义 Tailwind 配置）
- 主要样式通过 Tailwind `class="..."` 实现

## 迁移步骤

### Phase 1: 配置 (T-126-1)
1. 安装依赖
2. 配置 Tailwind
3. 配置 Lucide
4. 更新构建流程

### Phase 2: 组件逐个迁移 (T-126-2 ~ T-126-16)
每个组件一个 Task，确保 QA 通过

### Phase 3: 文档更新 (T-126-17)
更新 product_spec.md，记录新规范

### Phase 4: 下游项目同步 (T-126-18)
Dashboard/Novel/Drum 等项目同步更新依赖

## QA 标准
- [ ] 组件外观与之前一致（iOS 初音风格）
- [ ] 暗色模式正常
- [ ] 移动端适配正常
- [ ] 构建成功
- [ ] 无 console 报错

## 文档更新
- `.doc/product_spec.md` - 技术栈说明
- `.doc/tech_spec.md` - Tailwind 配置说明
- 各组件 README.md - 更新使用示例

## 风险
- 下游项目需要同步更新
- 迁移期间可能短暂不兼容
- 需要全面回归测试

## 时间预估
- 配置: 30min
- 15 个组件 × 20min = 5h
- 文档: 30min
- QA: 2h
- **总计: 约 8 小时**
